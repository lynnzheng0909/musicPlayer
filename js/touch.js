!function(r){var a,l,p,s,d,g,w,f,m,h={},T=750,v=!1;function y(){s=null,h.last&&(h.el.trigger("longTap"),h={})}function M(){s&&clearTimeout(s),s=null}function b(){a&&clearTimeout(a),l&&clearTimeout(l),p&&clearTimeout(p),s&&clearTimeout(s),a=l=p=s=null,h={}}function x(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function P(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}function e(e){var t,o,n,i,u=0,c=0;v&&(r(document).off(m.down,g).off(m.up,w).off(m.move,f).off(m.cancel,b),r(window).off("scroll",b),b(),v=!1),(m=e&&"down"in e?e:"ontouchstart"in document?{down:"touchstart",up:"touchend",move:"touchmove",cancel:"touchcancel"}:"onpointerdown"in document?{down:"pointerdown",up:"pointerup",move:"pointermove",cancel:"pointercancel"}:"onmspointerdown"in document&&{down:"MSPointerDown",up:"MSPointerUp",move:"MSPointerMove",cancel:"MSPointerCancel"})&&("MSGesture"in window&&((d=new MSGesture).target=document.body,r(document).bind("MSGestureEnd",function(e){var t=1<e.velocityX?"Right":e.velocityX<-1?"Left":1<e.velocityY?"Down":e.velocityY<-1?"Up":null;t&&(h.el.trigger("swipe"),h.el.trigger("swipe"+t))})),g=function(e){(i=P(e,"down"))&&!x(e)||(n=i?e:e.touches[0],e.touches&&1===e.touches.length&&h.x2&&(h.x2=void 0,h.y2=void 0),t=Date.now(),o=t-(h.last||t),h.el=r("tagName"in n.target?n.target:n.target.parentNode),a&&clearTimeout(a),h.x1=n.pageX,h.y1=n.pageY,0<o&&o<=250&&(h.isDoubleTap=!0),h.last=t,s=setTimeout(y,T),d&&i&&d.addPointer(e.pointerId))},f=function(e){(i=P(e,"move"))&&!x(e)||(n=i?e:e.touches[0],M(),h.x2=n.pageX,h.y2=n.pageY,u+=Math.abs(h.x1-h.x2),c+=Math.abs(h.y1-h.y2))},w=function(e){(i=P(e,"up"))&&!x(e)||(M(),h.x2&&30<Math.abs(h.x1-h.x2)||h.y2&&30<Math.abs(h.y1-h.y2)?p=setTimeout(function(){var e,t,o,n;h.el&&(h.el.trigger("swipe"),h.el.trigger("swipe"+(e=h.x1,t=h.x2,o=h.y1,n=h.y2,Math.abs(e-t)>=Math.abs(o-n)?0<e-t?"Left":"Right":0<o-n?"Up":"Down"))),h={}},0):"last"in h&&(u<30&&c<30?l=setTimeout(function(){var e=r.Event("tap");e.cancelTouch=b,h.el&&h.el.trigger(e),h.isDoubleTap?(h.el&&h.el.trigger("doubleTap"),h={}):a=setTimeout(function(){a=null,h.el&&h.el.trigger("singleTap"),h={}},250)},0):h={}),u=c=0)},r(document).on(m.up,w).on(m.down,g).on(m.move,f),r(document).on(m.cancel,b),r(window).on("scroll",b),v=!0)}["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){r.fn[t]=function(e){return this.on(t,e)}}),r.touch={setup:e},r(document).ready(e)}(Zepto);